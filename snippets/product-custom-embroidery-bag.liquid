<div class="js-embroidery-error hidden">
    {{- settings.embroidery_bag_error -}}
</div><!-- /.embroidery-error -->

<div class="tooltip-bag">
    <div class="tooltip-header">
        <a href="#embroidery_bag_see_details" class="js-close-embroidery-tooltip" data-js-embroidery-bag-tooltip-toggle>×</a>
    </div>
    {{ settings.embroidery_bag_tooltip }}
</div>
<button
        class="c-embroidery-main-cta"
        type="button"
        aria-label="Show embroidery modal"
        data-js-embroidery-bag-toggle
        data-js-embroidery-bag-main-cta
>
    <div class="c-embroidery-main-cta-circle"></div><span style="color: {{ product.metafields.embroidery_bag.button_text_color }}; background-color: {{ product.metafields.embroidery_bag.button_background }};">{{ product.metafields.embroidery_bag.button_title | default: "CUSTOM EMBROIDERY" }}</span>
</button>
<a href="#embroidery_bag_see_details" class="see_details" data-js-embroidery-bag-tooltip-toggle>SEE DETAILS</a>
<div
        class="c-embroidery"
        data-js-embroidery-bag
>
    <div class="custom-text">
        <div class="title">1. ADD TEXT:</div>
        <label for="customBagText">
        <input id="customBagText" type="text" minlength="{{ product.metafields.embroidery_bag.min_characters | default: 1 }}" maxlength="{{ product.metafields.embroidery_bag.characters | default: 10 }}" name="properties[custom_text]" required>
        </label>
        <small>({{ product.metafields.embroidery_bag.characters | default: 10 }} characters - NO SPECIAL CHARACTERS)</small>
    </div>
    <div class="custom-color">
        <div class="title">2. CHOOSE COLOR:</div>
        <div class="custom-color-selector">
            {% for color in product.metafields.embroidery_bag.colors %}
                {% assign color_name = product.metafields.embroidery_bag.color_names[forloop.index0] %}
            <input id="customBagColor{{ forloop.index }}" type="radio" value="{{ color_name }}" name="properties[custom_color]" {% if forloop.first == true %}checked{% endif %} data-color="{{ color }}">
            <label for="customBagColor{{ forloop.index }}">
                <div class="white" style="background: {{ color }};"></div>
            </label>
            {% endfor %}
        </div>
    </div>
    <div class="custom-style">
        <div class="title">3. CHOOSE STYLE:</div>
        <div class="custom-style-selector">
            <input id="customBagStyleWhite" type="radio" value="BLOCK" name="properties[custom_style]" data-font="c-embroidery-font__preview--font-circular" checked>
            <label for="customBagStyleWhite">
            <div class="white c-embroidery-font__preview--font-circular">BLOCK</div>
            </label>
            <input id="customBagStyleBlue" type="radio" value="SCRIPT" name="properties[custom_style]" data-font="c-embroidery-font__preview--font-shell">
            <label for="customBagStyleBlue">
            <div class="blue c-embroidery-font__preview--font-shell">SCRIPT</div>
            </label>
        </div>
    </div>
    <div class="view-customization">
        <a href="#">Click to View Customization</a>
    </div>
    <div class="c-embroidery__preview-container c-embroidery__preview-bag-container">
        <div class="close_preview">
        ×
        </div>
        {% if product.metafields.embroidery_bag.image %}
            <img
                    class="c-engraving__image"
                    src="{{ product.metafields.embroidery_bag.image[0].src }}"
                    alt="{{ product.title }} — embroidery area"
            />
        {% endif %}
        <div class="c-embroidery__preview" data-js-embroidery-bag-preview>
            <div class="c-embroidery-font__preview--font-circular">
                <div class="c-embroidery__preview_text"></div>
            </div>
        </div>
    </div>
</div>
